# -- Prod environment overrides --
# 3+ replicas, HPA, PDB, strict resource limits

replicaCount: 3

image:
  repository: paper-submission
  tag: prod
  pullPolicy: Always

resources:
  requests:
    cpu: 200m
    memory: 512Mi
  limits:
    cpu: 1000m
    memory: 1Gi

# Enable HPA for production auto-scaling
autoscaling:
  enabled: true
  minReplicas: 3
  maxReplicas: 10
  targetCPUUtilizationPercentage: 70
  targetMemoryUtilizationPercentage: 75

# Ensure at least 2 pods always available during disruptions
podDisruptionBudget:
  enabled: true
  minAvailable: 2

livenessProbe:
  httpGet:
    path: /actuator/health
    port: http
  initialDelaySeconds: 60
  periodSeconds: 10
  failureThreshold: 5

readinessProbe:
  httpGet:
    path: /actuator/health
    port: http
  initialDelaySeconds: 20
  periodSeconds: 5
  failureThreshold: 3
